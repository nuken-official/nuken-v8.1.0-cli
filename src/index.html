<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href = "icons/favi.ico">
<link rel="stylesheet" href="styles/uikit.css" />
<link href="icons/remix/remixicon.css" rel="stylesheet">
<link href="styles/code_input.css" rel="stylesheet">
<link href="styles/default_stylesheet.css" rel="stylesheet">
<script src="scripts/jquery.js"></script>
<script src="scripts/jquery-ui.min.js"></script>
<script src="scripts/uikit.js"></script>
<script src="scripts/html2canvas.js"></script>
<script src="scripts/uikit_icons.js"></script>
<script src="scripts/share.js"></script>
<script>
var theme_direc = "content/themes/";
var template_direc = "content/templates/";
var addon_direc = "content/addons/";	
var picture_test = true;
</script>	
</head>
<body>

<img src = "https://nuken.xyz/editor/icons/logo.png" onerror = "picture_test=false" onload = "picture_test=true"  id = "picture_test" ></img>

<div id = "nuken">

<!--Splash screen area. Loading bar, logo, version information, etc.-->
<div id = "splash"></div>

<!--The navbar.-->
<nav id = "navbar">

<!--This is the draggable part of the navbar. I
t's left empty to look nice with the UI window control buttons, and to display small text/images if needed. -->
<div class = "top drag">
</div>

<!--The "true" navbar.-->
<div class = "bottom" >

<!--Left side of the navbar-->
<img id = "logo" class = "drag" src = "icons/logo.png"><span id = "offline_notif" uk-toggle = "target:#settings_page" class="uk-badge"> <i class="ri-wifi-off-fill"></i> </span></i> </img>

<input id = "titlebox" placeholder = "New Project" value = "New Project" ></input>

<!--Everything here sticks to the right.-->
<div class = "right">

<!--Announcements-->
<button class="uk-button uk-button-default uk-float-left" type="button"><i class="ri-notification-3-fill"><span id = "notification_count" class="uk-badge">69</span></i> </button>
    <div onmouseenter = "reset_notif_badge()" uk-dropdown="boundary: .boundary;pos:bottom-center;delay-hide:100;">
        <ul class="uk-nav uk-dropdown-nav">
		<!--Notification Area--><span id = "notification_list" >
		<p id = "notification_placeholder" style = "margin-top:2.5vmin"><i class="ri-haze-fill"></i><br>Quiet is peace</p>
		</span>
		
		<!--Share / Discover--><button onclick = "share_menu_is_open = true"  uk-toggle = "target: #share_page"  ><i class="ri-compass-discover-line"></i> <span> Share / Discover</span></button>
        </ul>
    </div>
	
	
	<!--Toolbox-->
<button class="uk-button uk-button-default uk-float-left" type="button"><i class="ri-tools-fill"></i></button>
    <div uk-dropdown="boundary: .boundary;pos:bottom-center;delay-hide:100;">
        <ul class="uk-nav uk-dropdown-nav">
		<!--Manage--><button >Manage <i class="ri-arrow-drop-right-fill"></i></button>
			<div uk-dropdown="boundary: .boundary;pos:right-bottom;delay-show:400;delay-hide:50">
			<ul class="uk-nav uk-dropdown-nav">
			<button uk-toggle = "target: #script_page" ><i class="ri-arrow-drop-right-fill"></i><i class="ri-file-paper-2-fill"></i> Scripts</button>
			<button uk-toggle = "target: #style_page"><i class="ri-attachment-line"></i> Stylesheets</button>
			<button uk-toggle = "target: #config_page"><i class="ri-settings-6-fill"></i>  Project Config</button>
			</ul>
		</div>
		<!--Appearance--><button>Appearance <i class="ri-arrow-drop-right-fill"></i></button>
		<div uk-dropdown="boundary: .boundary;pos:right-bottom;delay-show:400;delay-hide:50">
			<ul class="uk-nav uk-dropdown-nav">
			<button id= "dark_mode_button" onclick = "enable_dark_mode()" ><i class="ri-contrast-2-fill"></i> Dark Mode</button>
			<button id = "grayscale_button" onclick = "init_visual('grayscale')" ><i class="ri-arrow-drop-right-fill"></i><i class="ri-blur-off-fill"></i> Grayscale</button>
			<button id = "invert_button" onclick = "init_visual('invert')" ><i class="ri-arrow-drop-right-fill"></i><i class="ri-contrast-fill"></i>  Classic Invert</button>
			<button id = "themes_button" uk-toggle = "target: #theme_page"  ><i class="ri-paint-fill"></i> Themes</button>
			</ul>
		</div>
		<button onclick = "reload_nuken()" ><i class="ri-refresh-line"></i>  Reload</button>
		<!--Settings--><button uk-toggle = "target: #settings_page"><i class="ri-settings-3-fill"></i> <span> Settings</span></button>
        </ul>
    </div>


<!--Add-on Menu-->
<button class="uk-button uk-button-default uk-float-left" type="button"><i class="ri-apps-fill"></i></button>
    <div uk-dropdown="boundary: .boundary;pos:bottom-center;delay-hide:100;">
       <!--Add-on icon area-->	   <ul class="addon_nav uk-nav uk-dropdown-nav">
	   <div id = "addon_selection" uk-grid >
		<p style = "    text-align: center;
    margin: 5vmin;
    padding: 1.5vmin;
    box-sizing: border-box;
    margin-bottom: -0.5vmin;
    margin-top: 0vmin;"><i class="ri-emotion-normal-fill"></i><br>No Add-ons?</p>
		</div>
		<button uk-toggle = "target: #content_page" ><i style = "font-weight:100" class="ri-install-fill"></i> <span>My content</span></button>
		<button uk-toggle = "target: #shop_page" ><i class="ri-shopping-bag-fill"></i> <span>nuken Shop</span></button>
        </ul>
    </div>


<!--Import / Open-->
<button class="uk-button uk-button-default uk-float-left" type="button"><i class="ri-folder-open-fill"></i></button>
    <div uk-dropdown="boundary: .boundary;pos:bottom-center;delay-hide:100;" >
        <ul class="uk-nav uk-dropdown-nav">
		<!--Import a project--><button id = "import_button"  onclick = "import_project()" ><i class="ri-file-3-fill"></i> <span>Import project</span></button>

		<!--Hiden file element--><input style = "display:none" id = "file_input" type = "file" onclick = "import_project()"></input>
		<!--Use a template--><button uk-toggle = "target: #template_page"><i class="ri-file-search-line"></i> <span> Use template</span></button>
		<!--Recover lost work--><button uk-toggle = "target: #recover_page"><span>Recover lost work</span></button>
        </ul>
    </div>


<!--PLay / Execute / Run-->
<button  id = "play_button" onclick = "project_write();success_1.currentTime = 0;	
success_1.play();	" class="uk-button uk-button-default uk-float-left" type="button"><i id = "play_icon" class="ri-play-fill"></i></button>
    <div uk-dropdown="boundary: .boundary;pos:bottom-center;delay-hide:100;" id = "play_dropdown" >
        <ul class="uk-nav uk-dropdown-nav">
		<!--Enable Auto-run--><button id = "auto_run_button" onclick = "toggle_auto_run()" >Enable Auto-run</button>
		<button onclick = "popup_sound.currentTime=0;popup_sound.play();window.open('https://nuken.xyz/docs','_blank');"  ><i class="ri-book-mark-fill"></i> <span>nuken Docs</span></button>
		<!--Preview--><button><i class="ri-eye-line"></i> <span>Preview</span> <i class="ri-arrow-drop-right-fill"></i></button>
		<div uk-dropdown="boundary: .boundary;pos:right-bottom;delay-show:400;delay-hide:50">
			<ul class="uk-nav uk-dropdown-nav">
			<!--Seperate Window--><button id = "preview_in_window" onclick = "preview_project('window')" ><i class="ri-window-fill"></i> Seperate window <i class="ri-arrow-drop-left-fill"></i></button>
			<!--In-workspace--><button id = "preview_in_workspace"onclick = "preview_project('workspace')" ><i class="ri-fullscreen-fill"></i>  In-workspace</button>
			</ul>
		</div>
        </ul>
    </div>


<!--Export / Save -->
<button class="uk-button uk-button-default uk-float-left"type="button"><i class="ri-save-fill"></i></button>
    <div uk-dropdown="boundary: .boundary;pos:bottom-center;delay-hide:100;" id = "export_dropdown">
        <ul class="uk-nav uk-dropdown-nav">
		    <!--Save to memory--><button id = "memory_save_button" onclick = "save_project_to_memory()" ><i class="ri-bubble-chart-fill"></i> <span>Save to memory</span></button>
			        <!--Export project as template file--><button onclick = "update_template_export()" uk-toggle = "target: #template_export_page" ><i class = "ri-file-search-line" ></i> <span> Save as template</span></button>
		<!--Export project as .html file--><button uk-toggle = "target: #export_page" ><i style = "font-weight:900" class="ri-external-link-fill"></i> <span> Export project</span></button>
		</ul>
    </div>	


	


</div>

</div>

</nav>

<div id = "workspace">



<button title = "Project Console" id = "console_button"><i class="ri-terminal-fill"><span  id = "console_notification_count" class="uk-badge">69</span></i></button>

		<div uk-drop="mode: click" style = "left:unset!important;right:0;float:right" >
        <div onmouseenter = "reset_project_console_badge()" id = "project_console_notification_list" class="uk-card uk-card-body uk-card-default">
        </div>
<i title = "Download Project Console Log" id = "download_project_console_button" onclick = "download_project_console()" class="ri-download-fill"></i>

<textarea oninput = "update_template_export()" id = "project_console_raw" ></textarea>
    </div>

<div id = "left_frame">
<div class = "codebox ace-dawn" id = "stylebox">
</div>
<div class = "codebox ace-dawn" id = "markupbox">
</div>
<div class = "codebox ace-dawn" id = "scriptbox">
</div>
</div>

<div id = "right_frame">
<iframe id = "project_frame" src = "" ></iframe>
</div>
<canvas id = "project_canvas" ></canvas>

</div>

<div id = "menus">

<div id = "addon_pin_menu">
</div>


<div id = "welcome_page">
  <div class="uk-modal-dialog uk-modal-body small-modal">
        <h2 class="uk-modal-title"><i class="ri-user-5-fill"></i> Hello there!</h2>
		<p>Good to see you. This project was created by <span id = "project_author_text">Chan</span> for <span id = "project_audience_text" >anyone to use</span>. Here's what they had to say about it.</p>
		<h1 ><span id = "project_description_text">Sorry for the messy code. Perhaps you can clean it up a bit?</span>
		
		<span class = "quote"><i class="ri-chat-quote-fill"></i></span>
		</h1>
		<!--Exit--><button id = "welcome_close" class="uk-modal-close" style = "background-color:black" type="button"><i class="ri-check-fill"></i> <span>Okay, got it</span></button>
		
		<img src = "icons/images/welcome.jpg"></img>

	</div>
</div>

<!--Settings-->
<div id="settings_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body small-modal">
        <h2 class="uk-modal-title"><i class="ri-settings-3-fill"></i> Settings</h2>
        <!--Exit--><button class="uk-modal-close" style = "background-color:black" type="button"><i class="ri-check-fill"></i> <span>All good to go</span></button>


<div class="uk-grid-collapse uk-child-width-expand@s uk-text-center" uk-grid>
    
	<div>
        <div class="uk-background-muted uk-padding settings_1">
		<img style = "object-position: 0vmin -13vmin" src = "icons/images/settings_1.jpg"></img>
		<h1><i class="ri-layout-3-fill"></i> <span>Workspace</span></h1>
		<hr>
		<div class = "settings_slider">
		<i class="ri-sun-fill"></i>
		<input id = "brightness_setting" oninput = "init_visual('brightness')" class = "uk-range" value = "100" type = "range" min="10" max="105"  />
		</div>
		
		<div class = "settings_slider" id = "volume_slider">
		<i class="ri-volume-up-fill"></i>
		<input id = "volume_setting" oninput = "set_volume()"  value = "1" min = "0" max = "100" class = "uk-range" type = "range"/>
		</div>
	
<label><input id = "disable_ui_animations_button" onclick = "disable_ui_animations()" class="uk-checkbox" type="checkbox"> <span>Disable UI animations</span></label>

<label><input id = "disable_notifications_check" class="uk-checkbox" type="checkbox" oninput = "disable_notifications()"> <span>Disable <i class="ri-notification-3-fill"></i>  notifications</span></label>	

<label><input oninput = "disable_project_recovery()" id = "disable_recovery_check"class="uk-checkbox" type="checkbox"> <span>Disable project recovery</span></label>		

<br>
<br>
<button style = "background-color:black" id = "offline_mode_button" onclick = "toggle_network_status()"><i class="ri-wifi-off-line"></i> <span>Enter Offline Mode</span></button>
		
		</div>
		
	</div>
	
	
		   <div>
        <div class="uk-background-muted uk-padding">
		<img style = "object-position: 0vmin -17.1vmin" src = "icons/images/settings_2.jpg"></img>
		<h1><i class="ri-play-circle-fill"></i> <span>Startup behavior</span></h1>
		<hr>

		
		<h2>When I start nuken...</h2>
<label><input id = "init_dark_mode_button" oninput = "init_dark_mode()" class="uk-checkbox" type="checkbox"> <span>Enable <i class="ri-contrast-2-fill"></i> Dark Mode.</span></label>
<label><input id = "init_auto_run_button" oninput = "init_auto_run()" class="uk-checkbox" type="checkbox"> Enable Auto-run.</label>
<label><input id = "mute_audio_button" oninput = "init_mute_audio()" class="uk-checkbox" type="checkbox"> Mute UI audio.</label>
<label><input id = "remember_workspace_button" oninput = "init_remember_workspace()" class="uk-checkbox" type="checkbox"> Remember my workspace.</label>
<label><input id = "init_auto_theme_button" oninput = "init_auto_theme()" class="uk-checkbox" type="checkbox"> Disable <i class="ri-paint-fill"></i> nuken Themes.</label>

<p>Settings that aren't immediate will take effect when you reload nuken.</p>
			
		</div>
		
		
		
		
	</div>
	
	
	   <div>
        <div class="uk-background-muted uk-padding">
		<img src = "icons/images/settings_3.jpg"></img>
		<h1 style = "color:darkred" ><i class="ri-alert-fill"></i> <span> Danger zone</span></h1>
		<hr>
<button><span>Delete all</span> <i class = "ri-shopping-bag-fill"></i> <span>nuken Shop content</span></button>

<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default">
			<p>Are you sure? Just checking in. If you don't have a backup somewhere, you're not getting these files back.</p>
			<button onclick = "delete_dlc()" class="uk-drop-close" type="button" uk-close><i class="ri-delete-bin-7-fill"></i> <span>Just do it.</span></button>
        </div>
    </div>

<p><span>Deletes any content you've downloaded from the <b>nuken Shop</b>. Whatever nuken misses, use the</span> <span> <a uk-toggle = "target:#content_page" ><i class = "ri-install-fill"></i>  <span>Downloaded Content Menu</span></a> to remove manually.</span></p>


		<button ><i class="ri-delete-bin-7-fill"></i><span> Delete recovered work</span></button>
			
			<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default">
			<p>Are you sure about this? Just checking in. Make sure you save anything in the <a uk-toggle target = "#recover_page"><i class="ri-device-recover-fill"></i> <span>Recovery Menu</span></a> before you wipe it completely.</p>
			<button onclick = "delete_recovered_work(this)" class="uk-drop-close" type="button" uk-close><i class="ri-delete-bin-7-fill"></i> <span>Just do it.</span></button>
        </div>
    </div>
	
		<p>Deletes everything in the <a uk-toggle target = "#recover_page"><i class="ri-device-recover-fill"></i> <span>Recovery Menu</span></a>. You can also turn this feature off completely.</p>
		
		<button ><i class="ri-delete-bin-7-fill"></i> <span>Delete everything</span></button>
		
		<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default">
			<p>Are you sure about this? Just checking in. This gets rid of any settings in your workspace. nuken will be reloaded afterwards.</p>
			<button onclick = "delete_everything(this)" class="uk-drop-close" type="button" uk-close><i class="ri-delete-bin-7-fill"></i> <span>Just do it.</span></button>
        </div>
    </div>
		
		<p>Deletes all <span style = "font-family:Monospace;font-weight:900" >localStorage</span> data - recovered work, workspace settings, and saved resources.</p>
		
	
		</div>
	</div>

	
	

</div>

	<p style = "     font-family: 'bold';
    color: #c0c0c0;
    display: inline-block;
    margin: 1vmin;" >v8.1.0 | b10.31.22</p>
	<p onclick = "start_credits()" style = "    font-family: 'bold';
    color: #c0c0c0;
    float: right;
    display: inline-block;
    margin: 1vmin;cursor:pointer" > <span style = "vertical-align:middle" >Watch the credits</span> <i style = "vertical-align:middle" class="ri-arrow-right-fill"></i> </p>

	</div>

</div>
	

<!--nuken Shop-->
<div id="shop_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body" id = "shop_page_body">
        <h2 id = "shop_page_title" class="uk-modal-title"><i class="ri-shopping-bag-fill"></i> <span>nuken Shop</span></h2>
       <!--Exit--> <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>I'm done looking</span></button>
	  <!--nuken Shop frame is written here eventually-->
    </div>
</div>

<!--nuken Shop-->
<div id="theme_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body" id = "themes_page_body">
        <h2 id = "shop_page_title" class="uk-modal-title"><i class="ri-paint-fill"></i> <span>Themes</span></h2>
       <!--Exit--> <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>I'm good to go</span></button>
	  <div id = "theme_library_div" >
	 
	 <div  class = "content_div">
<img style = "background-color:black" src = "icons/favi2.png" ></img>
<div class = "innerbody" >
<span>Default</span>
<br>
<button onclick = "swap_theme(default_nuken_theme)" >Select</button>
<i class = "ri-paint-fill content_div_icon"></i> 
</div>
</div> 

	  </div>
	  <div id = "theme_preview"></div>
	  
	    </div>
</div>


<!--"My Content" Window-->
<div id="content_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body" id = "content_page_body">
        <h2 id = "content_page_title" class="uk-modal-title"><i class="ri-install-fill"></i> <span>My content</span></h2>
       <!--Exit--> <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>Okay, all done</span></button>
       <p>Content directories</p>
       <button onclick = "show_folder('/content/addons/')" > <i class = "ri-apps-fill"></i> <span>Add-ons</span></button>
       <button onclick = "show_folder('/content/themes/')" > <i class = "ri-paint-fill" ></i> <span>Themes</span></button>
       <button onclick = "show_folder('/content/templates/')" > <i class = "ri-file-search-line" ></i> <span>Templates</span></button>
       <hr>
	   <div style = "width:100%">
	   <p><i class="ri-checkbox-circle-fill"></i> <span>Detected content</span></p>
	  <div id = "content_div">
	  <button id = "shop_content_teaser" style = "    padding: 2.5vmin;
    background-color: lightgray;
    font-size: 3vmin;
    margin-top: 1.5vmin;
    border-radius: 1.5vmin;" uk-toggle = "target:#shop_page"><span>Visit the</span> <i class = "ri-shopping-bag-fill" ></i> <span>nuken Shop</span></button>
	  </div>
	  </div>
	  
	  <div style = "width:100%;">
	  <p><i class="ri-folder-fill"></i> <span>All detected files</span></p>
	  <div id = "library_div">
	  	  <button id = "shop_content_teaser" style = "    padding: 2.5vmin;
    background-color: lightgray;
    font-size: 3vmin;
    margin-top: 1.5vmin;
    border-radius: 1.5vmin;" uk-toggle = "target:#shop_page"><span>Visit the</span> <i class = "ri-shopping-bag-fill" ></i> <span>nuken Shop</span></button>
	  </div>
	  
	  </div>
	  
    </div>
</div>


<!--Share Menu-->
<div id="share_page" uk-modal>
    <div id = "share_page_body" class="uk-modal-dialog uk-modal-body">
        <h2 id = "share_page_title" class="uk-modal-title"><i class="ri-team-fill"></i> <span>Find nuken</span></h2>
		
        <button class="uk-modal-close" onclick = "share_menu_is_open =false" type="button"><i class="ri-check-fill"></i> <span>I'm all caught up</span></button>

<div id = "share_page_container">

<div id = "left">

<div class = "widget">
<img src = "icons/images/share.jpg" ></img>
<h1>Join the community</h1>
<p>Welcome to the <b><i class="ri-share-fill" style = "font-size:2.25vmin"></i> Share Menu.</b> Looking to join us? Pick a platform and hop in!</p>
</div>

<div class = "grid">

<div onclick = "popup_sound.currentTime=0;popup_sound.play();window.open('https://nuken.xyz/discord');" style = "background-color:#404eed" class = "app">
<i class="ri-discord-fill"></i>
<h1 style = "font-family:'discord';" >Discord</h1>
</div>

<div onclick = "popup_sound.currentTime=0;popup_sound.play();window.open('https://nuken.xyz/github');" style = "background-color:#161b22" class = "app">
<i class="ri-github-fill"></i>
<h1 style = "font-family:'github';" >GitHub</h1>
</div>

<div onclick = "popup_sound.currentTime=0;popup_sound.play();window.open('https://nuken.xyz/twitter');" style = "background-color:#1DA1F2" class = "app">
<i class="ri-twitter-fill"></i>
<h1 style = "font-family:Helvetica;" >Twitter</h1>
</div>
<br>

<div onclick = "popup_sound.currentTime=0;popup_sound.play();window.open('https://nuken.xyz/reddit');" style = "background-color:#FF5700" class = "app">
<i class="ri-reddit-fill"></i>
<h1 style = "font-family:Verdana;" >Reddit</h1>
</div>

<div onclick = "popup_sound.currentTime=0;popup_sound.play();window.open('https://nuken.xyz/twitch');" style = "background-color:#9147ff" class = "app">
<i class="ri-twitch-fill"></i>
<h1 style = "font-family:'twitch';" >Twitch</h1>
</div>

<div onclick = "popup_sound.currentTime=0;popup_sound.play();window.open('https://nuken.xyz/instagram');" style = "background-color:#C13584" class = "app">
<i class="ri-instagram-line"></i>
<h1 style = "font-family:'instagram';" >Instagram</h1>
</div>

</div>

</div>

<div id = "right">
<h1>Share my project</h1>
<p>If you want to share your work, try <b style = "cursor:pointer" uk-toggle = "#export_page"><i uk-toggle = "#export_page"  class="ri-share-box-fill" style = "font-size:2.25vmin"></i> <span>exporting it</span></b>. If you'd rather just take a picture, we're here for that too.</p>
<button id = "project_snapshot_button" onclick = "write_preview()"><i class="ri-camera-fill"></i> <span> Take a snapshot</span></button>
<span id = "share_project_container">
<iframe src = "" id = "share_frame"></iframe>
</span>
<div id = "share_project_bar">
<i id = "download_project_share" onclick = "download_preview()" class="ri-download-2-fill"></i>
<i id = "copy_project_share" onclick = "copy_preview()" class="ri-checkbox-multiple-blank-line"></i>
</div>

</div>
</div> 
    </div>
</div>


<!--Script Management Menu-->
<div id="script_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 id = "script_page_title" class="uk-modal-title"><i class="ri-file-paper-2-fill"></i> <span>Script Management</span></h2>
        <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>Looks good to me</span></button>
		
	<!--This is where all of the resource selection icons are written to-->
	<div id = "script_selection" class = "menu_scroll">
</div>	
<div id = "script_menu" class = "menu_blurb">
<!--Resource title--><h1 id = "script_title">Loading...</h1>
<!--The little info bar underneath the title-->
<div class = "menu_status_bar">

<!--The resource location, whether saved to the device, or from a URL-->
<span id = "script_location" >Loading...</span>

<!--Can this resource be used online of offline?-->
<div id = "script_status">
<i title = "This resource can be used offline." class="ri-cloud-off-fill"></i>
</div>
<!--If this resource is saved to the device, or loaded from an HTTPS location-->
<div id = "script_security"> 
<i title = "This resource is from a secure location." class="ri-shield-check-fill"></i>
</div>

</div>

<!--Resource description / information-->
<p id = "script_description">Loading...</p>

<!--Documentation / further reading button-->
<button id = "script_documentation" ><i class="ri-book-mark-fill"></i> <span>Documentation</span></button>
<button id = "script_direct_view" ><i class="ri-eye-line"></i> <span>View</span></button>
<button id = "script_donate" ><i class="ri-hand-heart-fill"></i> <span>Donate</span></button>

</div>

<div id = "custom_script_input" class = "menu_blurb" >
<h1 id = "custom_script_title" contenteditable = "true">Custom</h1>

<div class = "menu_status_bar">
<span id = "custom_script_location" > Not recognized </span>

<!--Can this resource be used online of offline?-->
<div id = "custom_script_status">
<i title = "This resource can be used offline." class="ri-checkbox-blank-circle-fill"></i>
</div>
<!--If this resource is saved to the device, or loaded from an HTTPS location-->
<div id = "custom_script_security"> 
<i title = "This resource is from a secure location." class="ri-checkbox-blank-circle-fill"></i>
</div>

</div>

<textarea id = "custom_script_textarea" placeholder = '<script src = "https://your-custom-resource.com/script.js" ></script>'></textarea>
<button ><i class="ri-information-line"></i> <span>What is this?</span></button>
	<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default">
			<p>This option is for our more advanced users. If you'd like to use a resource that isn't already offered, try entering the 
			<span style = "font-family:monospace;font-weight:900"><a href = "https://www.w3schools.com/tags/tag_script.asp#:~:text=Definition%20and%20Usage,and%20dynamic%20changes%20of%20content." target = "_blank">script</a></span> 
			tags here. When you're finished, click
			<a onclick = "document.getElementById('load_custom_style_button').click()">load my resource</a>
			and you're good to go! If you're looking to append 
			<span style = "font-family:monospace;font-weight:900"><a href = "https://www.w3schools.com/tags/tag_meta.asp" target = "_blank">meta</a></span> tags to your project, check out the 
			<a href = "" uk-toggle target = "#config_page"><i class = "ri-settings-6-fill"></i> <span>Project Config Menu</span></a>.</p>
			<button  class="uk-drop-close" type="button" uk-close>Okay, thanks</button>
        </div>
    </div>
<button id = "load_custom_script_button" onclick = "fill_in_script_info()" ><i class="ri-check-fill"></i> <span>Load my resource</span></button>
</div>

    </div>
	</div>

<!--Stylesheet Management Menu-->
<div id="style_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 id = "style_page_title" class="uk-modal-title"><i class="ri-attachment-fill"></i> <span>Stylesheet Management</span></h2>
        <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>Looks good to me</span></button>
		
	<!--This is where all the resource selection icons are written to-->
	<div id = "style_selection" class = "menu_scroll">
</div>	
<div id = "style_menu" class = "menu_blurb">
<!--Resource title--><h1 id = "style_title">Loading...</h1>
<!--The little info bar underneath the title-->
<div class = "menu_status_bar">

<!--Where the resource is saved, whether on the device, or from an external location-->
<span id = "style_location" title = "This resource is saved to this device." >Loading...</span>

<!--Can this resource be used offline?-->
<div id = "style_status"> 
<i title = "This resource can be used offline." class="ri-cloud-off-fill"></i>
</div>
<!--Whether this resource is from this device, or an HTTPS location-->
<div id = "style_security">
<i title = "This resource is from a secure location." class="ri-shield-check-fill"></i>
</div>

</div>
<!--Resource description / information-->
<p id = "style_description" >Loading...</p>

<!--Documentation / further reading-->
<button id = "style_documentation" ><i class="ri-book-mark-fill"></i> <span>Documentation</span></button>
<button id = "style_direct_view" ><i class="ri-eye-line"></i> <span>View</span></button>
<button id = "style_donate" ><i class="ri-hand-heart-fill"></i> <span>Donate</span></button>

</div>

<div id = "custom_style_input" class = "menu_blurb" >
<h1 id = "custom_style_title" contenteditable = "true">Custom</h1>

<div class = "menu_status_bar">
<span id = "custom_style_location" > Not recognized </span>

<!--Can this resource be used online of offline?-->
<div id = "custom_style_status">
<i title = "This resource can be used offline." class="ri-checkbox-blank-circle-fill"></i>
</div>
<!--If this resource is saved to the device, or loaded from an HTTPS location-->
<div id = "custom_style_security"> 
<i title = "This resource is from a secure location." class="ri-checkbox-blank-circle-fill"></i>
</div>

</div>

<textarea id = "custom_style_textarea" placeholder = '<link rel = "stylesheet" href = "https://your-custom-resource.com/stylesheet.css"/> '></textarea>
<button ><i class="ri-information-line"></i> <span>What is this?</span></button>
	<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default">
            <p>This option is for our more advanced users. If you'd like to use a resource that isn't already offered, try entering the 
			<span style = "font-family:monospace;font-weight:900"><a href = "https://www.w3schools.com/tags/tag_link.asp#:~:text=The%20tag%20defines%20the,a%20favicon%20to%20your%20website." target = "_blank">link</a></span> 
			tags here. When you're finished, click
			<a onclick = "document.getElementById('load_custom_style_button').click()">load my resource</a>
			and you're good to go! If you're looking to append 
			<span style = "font-family:monospace;font-weight:900"><a href = "https://www.w3schools.com/tags/tag_meta.asp" target = "_blank">meta</a></span> tags to your project, check out the 
			<a href = "" uk-toggle target = "#config_page"><i class = "ri-settings-6-fill"></i> <span>Project Config Menu</span></a>.</p>
			<button  class="uk-drop-close" type="button" uk-close>Okay, thanks</button>
        </div>
    </div>
<button id = "load_custom_style_button" onclick = "fill_in_style_info()" ><i class="ri-check-fill"></i> <span>Load my resource</span></button>
</div>

    </div>
</div>

<!--Project Config Menu-->
<div id="config_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 class="uk-modal-title"><i class="ri-settings-6-fill"></i> <span>Project Config</span></h2>
        <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>All set</span></button>
		
<div class="uk-grid-collapse uk-child-width-expand@s uk-text-center" uk-grid>
    
	<div>
        <div class="uk-background-muted uk-padding">
		<img src = "icons/images/config_1.jpg"></img>
		<h1><i class="ri-archive-drawer-fill"></i> <span> Add project location</span></h1>
		<hr>
		<p>Project root directory</p>
		<select>
		<option><i class="ri-folder-5-fill"></i> A folder on my device</option>
		<option><i class="ri-global-fill"></i> Somewhere on the web</option>
		</select>
		<input oninput = "init_custom_file_paths()" id = "custom_file_path_input" style = "border-radius:0vmin 0vmin 1vmin 1vmin" placeholder = "file:///C:/  [Enter the absolute file path here.]"></input>
		
		<button onclick = "window.open(document.getElementById('custom_file_path_input').value.toString(),'_blank');popup_sound.currentTime = 0;popup_sound.play()" style = "    margin-top: 2.5vmin;
    border-radius: 0.75vmin;"><i class="ri-link"></i> <span>Test this location</span></button>
		
		<button  class = "uk-position-bottom-center" uk-tooltip = "Hello" ><i class="ri-information-line"></i> <span>What is this?</span></button>
		<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default">
            <p>Where will you save your project? If you're working with file paths, this will tell nuken where to look. Enter your project's <a href = "https://www.seobility.net/en/wiki/Root_Directory#" target = "_blank">root directory</a> (local or online) in the boxes above, and nuken will fill in any relative <a href = "https://www.w3schools.com/html/html_filepaths.asp" target = "_blank">file paths</a> you use. This is super helpful when you're working with dependencies.</p>
			<button class="uk-drop-close" type="button" uk-close>Okay, thanks</button>
        </div>
    </div>
		</div>
		<div class="uk-inline">
</div>
	</div>
	
	
		   <div>
        <div class="uk-background-muted uk-padding">
		<img src = "icons/images/config_2.jpg"></img>
		<h1><i class="ri-list-check-2"></i> <span>Set project details</span></h1>
		<hr>
		<p>Intended device / audience</p>
		<input id = "project_audience_box" placeholder = "What / who is this intended for?" ></input>
		<p>Project author</p>
		<input id = "project_author_box" placeholder = "Who created this project?" ></input>
		<p>Shoutout message</p>
		<input id = "project_description_box" placeholder = "What would you like to say?" ></input>
		<button class = "uk-position-bottom-center"><i class="ri-information-line"></i> <span>What does this do?</span></button>
		<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default">
            <p>Have something to say when a user imports your nuken project? Enter that information here. Some projects work better with different audiences and on different devices.</p>
			<button class="uk-drop-close" type="button" uk-close>Okay, got it</button>
        </div>
    </div>
		</div>
	</div>
	
	
	   <div>
        <div class="uk-background-muted uk-padding">
		<img src = "icons/images/config_3.jpg"></img>
		<h1><i class="ri-price-tag-3-fill"></i> <span>Configure meta tags</span></h1>
		<hr>
		<p>You don't have to add header tags here, nuken does that already. Just add whatever else you want 😎</p>
		<textarea id = "metabox" placeholder = "Go wild with those meta tags, friend"></textarea>
		<button class = "uk-position-bottom-center" onclick = "popup_sound.currentTime = 0;popup_sound.play();window.open('https://www.w3schools.com/tags/tag_meta.asp','_blank');" ><i class="ri-information-line"></i> <span>What's a meta tag?</span></button>
		</div>
	</div>
	
	


</div>
</div>
</div>

<!--Template Menu-->
<div id="template_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 id = "template_page_title" class="uk-modal-title"><i class="ri-file-search-fill"></i> <span>Pick a Template</span></h2>
        <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>Alright, let's go</span></button>
		
	<!--You know the drill, this is where the template icons are written to-->
	<div id = "template_selection" class = "menu_scroll">
</div>	
<div id = "template_selection" class = "menu_scroll">
</div>	
<div id = "template_menu" class = "menu_blurb">
<!--Resource title--><h1 id = "template_title">Loading...</h1>
<!--The little info bar underneath the title-->
<div class = "menu_status_bar">

<!--Where the resource is saved, whether on the device, or from an external location-->
<span id = "template_location" title = "This resource is saved to this device." >Loading...</span>

<!--Can this resource be used offline?-->
<div id = "template_status"> 
<i title = "This resource can be used offline." class="ri-cloud-off-fill"></i>
</div>
<!--Whether this resource is from this device, or an HTTPS location-->
<div id = "template_security">
<i title = "This resource is from a secure location." class="ri-shield-check-fill"></i>
</div>

</div>
<!--Resource description / information-->
<p id = "template_description" >Loading...</p>

<!--Documentation / further reading-->
<button id = "template_visit" ><i class="ri-book-mark-fill"></i> <span>Visit Creator</span></button>
<button id = "template_direct_view" ><i class="ri-eye-line"></i> <span>View</span></button>
<button id = "template_donate" ><i class="ri-hand-heart-fill"></i> <span>Donate</span></button>

</div>

<div id = "custom_template_input" class = "menu_blurb" >

<h1>Enter a link</h1>
<input id = "custom_template_source" placeholder = "https://nuken.xyz/templates/default.js" ></input>
<p>nuken Templates offer a neat and simple way to get creating - with just one click. Enter the link to the template pack, and you're good to go.</p>

<button onclick = "add_template(document.getElementById('custom_template_source').value)" ><i class="ri-file-add-line"></i> <span>Load this template</span></button>
<button onclick = "popup_sound.currentTime = 0;popup_sound.play();window.open(document.getElementById('custom_template_source').value, '_blank')" id = "template_direct_view" ><i class="ri-eye-line"></i> <span>View source</span></button>

</div>

    </div>
</div>

<!--Template Export Menu-->
<div id="template_export_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 class="uk-modal-title"><i style = "font-weight:900" class="ri-file-search-fill"></i> <span>Save as template</span></h2>
        <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>I'm good to go</span></button>

	<div class = "export_top_banner">		
		<input id = "template_export_filebox" oninput = "update_template_export()" placeholder = "Enter a file name here." value = "my_template.js"></input>
		<!--Selected resource previews-->
		<!--Style--><img uk-toggle target = "#style_page" id = "template_style_preview" class = "resource_preview" src = "icons/blank.png" ></img>
		<!--Markup--><img id = "template_markup_preview" class = "resource_preview" src = "icons/html5.png" ></img>
		<!--Script--><img uk-toggle target = "#script_page" id = "template_script_preview" class = "resource_preview" src = "icons/blank.png" ></img>
		
		<!--Export button--><button onclick = "download_exported_template('blah blah','blah blah');popup_sound.currentTime = 0;
popup_sound.play()" id = "template_export_button"  ><i class="ri-external-link-fill"></i> <span>Save template</span></button>
		
		</div>
		
		<hr>
		
		<p style = "margin: 0;font-family: 'bold';color: #a1a1a1;font-size: 2vmin;margin-bottom: -0.5vmin;">Customize your template</p>
	
<div class = "export_actions_scroll"> 

<!--picture-->	
<div  class="photo widget">
<center>
<img id = "template_export_image_preview" onerror = "this.src = 'icons/temp/red.png'" src = "" ></img>
</center>
<h1>Template icon</h1>
<button id = "template_export_image_button" onclick = "randomize_template_icon()" style = "padding-bottom:2vmin" class = "uk-position-bottom-center" > <i style = "font-weight:900" class="ri-refresh-line"></i> <span> Change icon</span></button>

</div>


<!--edit template-->
<div id = "template_export_info" class="widget">
<h1><i class="ri-information-fill"></i> <span> Template Information</span></h1>
<input oninput = "update_template_export()" id = "template_export_name" placeholder = "Enter a title here." ></input>
<textarea oninput = "update_template_export()" value = "This description will show up in the Templates Menu." id = "template_export_description" placeholder = "Description" ></textarea>
</div>

<!-- raw data -->
<div id = "raw_template_export_div" class="widget">
<h1><i class="ri-article-fill"></i> <span> Raw Output</span></h1> 
<textarea id = "raw_templatebox" placeholder = "Your template will look like this." ></textarea>
</div>

</div>
		
    </div>
</div>

<!--Export Menu-->
<div id="export_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 class="uk-modal-title"><i style = "font-weight:900" class="ri-external-link-fill"></i> <span>Export my project</span></h2>
        <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>All good</span></button>
		
		<div class = "export_top_banner">		
		<input id = "filebox" placeholder = "Enter a file name here." value = "index.html"></input>
		<!--Selected resource previews-->
		<!--Style--><img uk-toggle target = "#style_page" id = "export_style_preview" class = "resource_preview" src = "icons/blank.png" ></img>
		<!--Markup--><img id = "export_markup_preview" class = "resource_preview" src = "icons/html5.png" ></img>
		<!--Script--><img uk-toggle target = "#script_page" id = "export_script_preview" class = "resource_preview" src = "icons/blank.png" ></img>
		
		<!--Export button--><button onclick = "export_project()" id = "export_button" ><i class="ri-external-link-fill"></i> <span>Export project</span></button>
		
		</div>
		<hr>
		
<!--Reccommended actions scroller-->
<p style = "margin: 0;font-family: 'bold';color: #a1a1a1;font-size: 2vmin;margin-bottom: -0.5vmin;">While you're here...</p>
	
<div class = "export_actions_scroll"> 

<!--Set a passphrase-->	
<div style = "display:none" class="widget">
<img src="icons/images/export_1.jpg">
<h1><i class="ri-file-lock-fill"></i> <span> A secret to everyone</span></h1>
<p>This isn't a hardcore security measure - but if you'd like to keep your projects under wraps, try setting a passphrase.</p>
<button style = "padding-bottom:2vmin" class = "uk-position-bottom-center" ><i class="ri-door-lock-fill"></i> <span>Set a passphrase</span></button>
</div>

<!--Open the Config Menu-->
<div class="widget">
<img src="icons/images/export_2.jpg">
<h1><i class="ri-folder-settings-fill"></i> <span>Configure your project</span></h1>
<p>Before you export your project, it's a good idea to visit the <b><i class="ri-settings-6-fill"></i> <span>Project Config Menu</span></b>.</p>
<button uk-toggle target = "#config_page" style = "padding-bottom:2vmin" class = "uk-position-bottom-center" ><i style = "font-weight:900" class="ri-settings-6-fill"></i> <span>Project Config Menu</span></button>
</div>

<!--View compiled code-->
<div class="widget">
<img src="icons/images/export_3.jpg">
<h1><i class="ri-article-fill"></i> <span> Is you reading?</span></h1>
<p>See the code behind your final product. Be sure to correct any errors or typos you find.</p>
<button onclick = "view_project_compiled()" style = "padding-bottom:2vmin" class = "uk-position-bottom-center" ><i style = "font-weight:900" class="ri-terminal-fill"></i> <span>View my compiled code</span></button>
</div>

<!--Open the Share Menu-->
<div class="widget">
<img src="icons/images/export_4.jpg">
<h1><i class="ri-question-answer-fill"></i> <span> Grab your soapbox</span></h1>
<p>Ready to share your work with the rest of us? Head on over to the <b><i class="ri-share-fill" style = "font-size:2.25vmin"></i> Share Menu</b>.</p>
<button uk-toggle = "target:#share_page" style = "padding-bottom:2vmin" class = "uk-position-bottom-center" ><i class="ri-share-fill"></i> <span>Open the Share Menu</span></button>
</div>

</div>		
		
    </div>
</div>

<!--Recover Menu-->
<div id="recover_page" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 class="uk-modal-title"><i class="ri-device-recover-fill"></i> <span>Recover lost work</span></h2>
       <!--Exit--> <button class="uk-modal-close" type="button"><i class="ri-check-fill"></i> <span>I'm good</span></button>
	   
	   
	   <div class="uk-grid-collapse uk-child-width-expand@s" uk-grid>
    
	<div>
        <div class="uk-background-muted uk-padding" style = "display:inline-block;width:30%">
		<img src = "icons/images/recover.jpg"></img>
		<h1>Lose something?</span></h1>
		<p>We gotchu, fam. If you accidentally quit without saving your work, try recovering it here.</p>
		<hr>
		<p>But remember, we can't catch everything. Make sure you're still <a uk-toggle = "#export_page">saving your work</a> - it's just good practice. 😎</p>
		
<div id = "recover_bar">
<button id = "recover_project_button" uk-toggle target = "#recover_page" onclick = "recover_project()" ><i class="ri-cloud-off-fill"></i> <span> You've disabled this feature.</span></button>
<p
><span id = "recover_time" ></span></p>
</div>
		
		<button  class = "uk-position-bottom-center" uk-tooltip = "Hello" ><i class="ri-information-line"></i> <span>What is this?</span></button>
		<div uk-drop="mode: click">
        <div class="uk-card uk-card-body uk-card-default uk-button">
            <p>nuken utilizes your device's <span style = "font-family:monospace;font-weight:900"><a href = "https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target = "_blank">localStorage</a></span>, allowing you to recover lost work. This is helpful if you accidentally quit or lose progress. Your projects are never shared or viewed by anyone else (unless you share them yourself, via the <a uk-toggle = "#share_page" ><i class="ri-share-fill"></i> <b><span>Share Menu</span></b></a>). <br><br>If you don't like this recovery feature, it's no big deal! Visit the <a uk-toggle = "#settings_page"><i class="ri-settings-3-fill"></i> <span><b>Settings Menu</b></span></a> and see what else we can do for you.</p>
			<button class="uk-drop-close" type="button" uk-close>Okay, got it</button>
        </div>
    </div>
	
		</div>
		
		
		
		<div id = "recover_text" class="uk-background-muted" style = "    display: inline-block;
    width: 64%;
    padding: 0;">
	<iframe id = "recover_frame" src = ""></iframe>
		</div>
		
		


</div>
    </div>
</div>

</div>


<div id="shop_confirm_page" uk-modal = "stack:true" class = "small_page">
    <div class="uk-modal-dialog uk-modal-body" style = "animation: pulse-black 1s infinite" >
        <h2 class="uk-modal-title"><i class="ri-download-fill"></i> <span>Ready to download?</span></h2>
	   <span id = "shop_download_location" >https://nuken.xyz/shop/addons/packages/color_picker_addon.zip</span>
	   <p>Just checking in. Here's the file you're going to download.</p>
	   <button id = "shop_download_button" onclick = "init_shop_download(downloadable)"  ><i class="ri-check-fill"></i> <span>Let's begin</span></button>
	   <button onclick = "UIkit.modal('#shop_confirm_page').hide();exit_help_sound.currentTime=0;exit_help_sound.play()" ><i class="ri-close-fill"></i> <span>Never mind</span></button>
	   
	   
</div>

</div>

<div id="shop_success_page" uk-modal = "stack:true" class = "small_page">
    <div class="uk-modal-dialog uk-modal-body" style = "animation: pulse-black 1s infinite" >
        <h2 class="uk-modal-title"><i class="ri-download-fill"></i> <span>Success!</span></h2>
		<p>Your content was downloaded and installed. It'll be ready to use the next time you start nuken.</p>
		<button onclick = "UIkit.modal('#shop_success_page').hide();exit_help_sound.currentTime=0;exit_help_sound.play()" ><span>Alright, thanks</span></button>
	   
</div>

</div>

<div id="shop_error_page" uk-modal = "stack:true" class = "small_page">
    <div class="uk-modal-dialog uk-modal-body" style = "animation: pulse-black 1s infinite" >
        <h2 class="uk-modal-title"><i class="ri-download-fill"></i> <span>Uh oh.</span></h2>
		<p>Something went wrong... either try again or check your Internet/device settings.</p>
		<button onclick = "UIkit.modal('#shop_error_page').hide();exit_help_sound.currentTime=0;exit_help_sound.play()" ><span>Okay, will do</span></button>
	   
</div>

</div>

<div id="network_error_page" uk-modal = "stack:true" class = "small_page">
    <div class="uk-modal-dialog uk-modal-body" style = "animation: pulse-black 1s infinite" >
        <h2 class="uk-modal-title"><i class="ri-criminal-fill"></i> <span>You're a teapot, Harry!</span></h2>
		<p>This is odd. It looks like you're connected to the Internet, but unable to access our servers. Would you like to enter an offline experience instead?</p>
		<button onclick = "UIkit.modal('#network_error_page').hide();set_network_status('offline')" ><span>Yes, please</span></button>
	   <button onclick = "UIkit.modal('#network_error_page').hide()" ><span>I'll take my chances</span></button>
</div>

</div>

<div id="offline_mode_page" uk-modal = "stack:true" class = "small_page">
    <div class="uk-modal-dialog uk-modal-body" style = "animation: pulse-black 1s infinite" >
        <h2 class="uk-modal-title"><i class="ri-wifi-off-fill" style = "font-weight:900"></i> <span>Offline Mode is turned on</span></h2>
		<p>You won't be able to access any online resources in this mode. If your Internet connection just isn't cutting it, this is probably a good idea.</p>
		<button onclick="UIkit.modal('#offline_mode_page').hide();" > <span>That sounds fine</span></button>
		<button onclick="UIkit.modal('#offline_mode_page').hide();set_network_status('online');" > <span>No thanks, keep me online</span></button>
	   
</div>

</div>





<div id = "addon_sandbox">



</div>



</div>

</div>

<div id = "credits">
<h1>Project Development</h1>
<a href = "https://chanmrotzek.com" target = "_blank"  >Chan Mrotzek</a>
<a href = "https://luckycloverdev.github.io" target = "_blank" >Jeremiah Dobes</a>
<a href = "https://twitter.com/rhougi" target = "_blank">Reece Filipinas</a>
<a href = "https://meif.xyz" target = "_blank" >Robyn Meif</a>

<br><br>

<h1>Product Testing / Feedback</h1>
<a href = "https://nathanlackie.net" target = "_blank" >Nathan Lackie</a>
<a>Joe Mrotzek</a>


<br><br>

<h1>Credits Theme</h1>
<a href = "https://soundcloud.com/user-109561028" target = "_blank" >Magmi Soundtracks</a>

<br><br>
<h1>Special Thanks</h1>
<a href = "http://brettdocherty.com"target = "_blank" >Brett Docherty</a>
<a>Aristotle</a>
<a href = "http://itemcloud.org"target = "_blank" >itemcloud.org</a>
<a href = "https://aldergrovecharter.org"target = "_blank" >Alder Grove Charter School</a>
<a href = "https://discord.gg/B8dTyfa"target = "_blank" >HouseFire Studios</a>
<a href = "https://nuken.xyz/community"target = "_blank" >Our wonderful community</a>



</div>

<div id = "credits_end">
<p style = "    opacity: 50%;
    font-size: 2vmin;
    margin: 0px;
    margin-bottom: 1vmin;">Thanks for using nuken.</p>
<button onclick = "end_nuken()" style="    background-color: white;
    color: black;
    font-family: 'bold';
    padding: 2.5vmin;
    border: none;
    border-radius: 2vmin;
    font-size: 2vmin;">No problem, have a nice day</button>
</div>

</body>	

<script src = "scripts/notification_system.js" ></script>
<script src = "scripts/resource_push.js" ></script>
<script src = "https://nuken.xyz/resources/scripts/resource_index.js" ></script>
<script src = "scripts/project_preview.js" ></script>
<script src = "scripts/template_system.js"></script>
<script src = "scripts/import_system.js"></script>
<script src = "scripts/export_system.js"></script>
<script src = "scripts/addon_system.js"></script>
<script src = "scripts/theme_system.js"></script>
<script src = "scripts/recovery_system.js"></script>
<script src = "scripts/init_system.js"></script>
<script src="scripts/ace.js"></script>
<script src="scripts/ace-dawn.js"></script>
<script src="scripts/ace-js.js"></script>
<script src="scripts/ace-html.js"></script>
<script src="scripts/ace-css.js"></script>
<script src="scripts/welcome_to_nuken.js"></script>
<script>

var ready_to_write_files = true;
var offline_mode_activated = false;

var init_dlc = function(){
init_addons();
init_templates();
init_theme();
};

var delete_dlc = function(){
trash_sound.currentTime = 0;
trash_sound.play();
delete_folder('content/addons/');
delete_folder('content/themes/');
delete_folder('content/templates/');	
notify('All content was deleted. Please relaunch nuken to finish the removal process.')
UIkit.modal('#settings_page').toggle();
};

var stylebox_editor = ace.edit("stylebox");
var markupbox_editor= ace.edit("markupbox");
var scriptbox_editor = ace.edit("scriptbox");

stylebox_editor.setTheme("ace/theme/dawn");
stylebox_editor.session.setMode("ace/mode/css");

markupbox_editor.setTheme("ace/theme/dawn");
markupbox_editor.session.setMode("ace/mode/html");

scriptbox_editor.setTheme("ace/theme/dawn");
scriptbox_editor.session.setMode("ace/mode/javascript");


var workspace_is_inverted = false;
var workspace_is_grayscaled = false;
var workspace_is_in_dark_mode = false;

var global_brightness;
var global_invert = 0;
var global_grayscale = 0;

var date = new Date();	
var hour = date.getHours();
var minute = date.getMinutes();
var second = date.getSeconds();
var timestamp = "["+hour+":"+minute+":"+second+"]";

var canvas_url = "";

var left_frame = document.getElementById('left_frame');
var right_frame = document.getElementById('right_frame');

var shop_frame = document.getElementById('shop_frame');
var recover_frame = document.getElementById('recover_frame');
var project_frame = document.getElementById('project_frame');

var stylebox = document.getElementById('stylebox');
var markupbox = document.getElementById('markupbox');
var scriptbox = document.getElementById('scriptbox');
var auto_run_is_auto = false;


var open_sound = new Audio('audio/open.mp3');
var close_sound = new Audio('audio/close.mp3');
var enable_sound = new Audio('audio/enable.mp3');
var disable_sound = new Audio('audio/disable.mp3');
var popup_sound = new Audio('audio/popup.mp3');
var success_1 = new Audio('audio/1.mp3');
var success_2 = new Audio('audio/2.mp3');
var notif_error_sound = new Audio('audio/notif_error.mp3');
var help_sound = new Audio('audio/help.mp3');
var exit_help_sound = new Audio('audio/exit.mp3');
var trash_sound = new Audio('audio/trash.mp3');
var snap_sound = new Audio('audio/snap.mp3');
var intro_sound = new Audio('audio/intro.mp3');
var download_sound = new Audio('audio/download.mp3');

var credits_music = new Audio('audio/credits.mp3');
credits_music.volume = 1;


var addons_directory = "";
var addons_index = [];

var recovery_allowed = true;
var ui_animations_are_disabled = false;


var nuken_location = document.location.href.toString();

if (nuken_location.includes('index.html#')){
nuken_location = nuken_location.replace('index.html#', "");
} else {
nuken_location = nuken_location.replace('index.html', "");
}


window.onload = function(){


push_custom_template();
randomize_template_icon();
setTimeout(function(){
document.getElementById('template_export_image_button').click();
},500);

window.addEventListener("message", onMessage, false);        

var iframe = document.createElement('iframe');
document.getElementById('shop_page_body').appendChild(iframe);
iframe.id = "shop_frame";
iframe.classList.add('menu_frame');
iframe.src = "https://nuken.xyz/shop/shop.html";
iframe.contentWindow.document.open();

init_localstorage();


document.documentElement.style.backgroundImage = "url('icons/black.png')";
document.documentElement.style.backgroundSize = "57.5vmin";

document.getElementById('nuken').style.transform = "scale(1)";


init_online();

UIkit.modal('#recover_page').show();
UIkit.modal('#share_page').show();
setTimeout(function(){
UIkit.modal('#recover_page').hide();
UIkit.modal('#share_page').hide();
},2);
setTimeout(function(){
document.body.style.opacity = "100%";
setTimeout(function(){

setTimeout(function(){
post_theme_check();
},1);
},500);
},500);

$( "#workspace" ).keyup(function() {
if (auto_run_is_on){
project_write();
}
});

project_frame.src = "";

recover_frame.contentWindow.document.open();

recover_frame.contentWindow.document.write(recover_text);

push_custom_script();
push_custom_style();

init_project_recover();
init_addons();
init_theme();
init_templates();

window.location.replace('#');
setTimeout(function(){
ready_to_notify = true;
},500);

var notif_setting = JSON.parse(localStorage.getItem('disable_notifications'));

if (notif_setting){
document.getElementById('disable_notifications_check').checked = true;
ready_to_notify = false;
} else {
}

if (recovery_allowed == false){

notify('Project recovery is disabled by the user.');
document.getElementById('disable_recovery_check').checked = true;
} else {
}

setTimeout(function(){
	select_template(welcome_to_nuken);
	setTimeout(function(){
	document.getElementById('titlebox').value = "New Project";
},1);
},300);


setTimeout(function(){
intro_sound.play();
document.body.style.pointerEvents = "auto";
},500);

};

window.onerror = function(e){

if (!hide_errors){
	
if (template_load_listener){
document.getElementById('custom_template_source').value = "";
document.getElementById('custom_template_source').placeholder = "That file isn't formatted correctly. Please try again.";

setTimeout(function(){
document.getElementById('custom_template_icon').click();
},5);
template_load_listener = false;
} else {
var temp = e.toString().replace(/'/g, "");


notify('nuken encountered <a onclick = "prompt_for_web(`'+temp+'`)" >a runtime error.</a>',0);

if (ready_to_notify){
notif_error_sound.currentTime = 0;
notif_error_sound.play();
}
}
} 
	
};


var clipboard_text = "";


var enable_dark_mode = function(){

if (workspace_is_in_dark_mode){

disable_sound.currentTime = 0;
disable_sound.play();

  $("#dark_mode_stylesheet").remove();

document.getElementById('dark_mode_button').innerHTML = '<i class="ri-contrast-2-fill"></i> Dark Mode';
document.getElementById('dark_mode_button').style.backgroundColor = "#c0c0c050";

workspace_is_in_dark_mode = false;
} else {

enable_sound.currentTime = 0;
enable_sound.play();

notify('Dark Mode enabled.');

 var cssLink = $("<link>");
  $("head").append(cssLink); //IE hack: append before setting href

  cssLink.attr({
    rel:  "stylesheet",
    type: "text/css",
    href: 'styles/dark_mode_stylesheet.css',
	id: 'dark_mode_stylesheet'
  });

document.getElementById('dark_mode_button').innerHTML = '<i class="ri-contrast-2-fill"></i> Dark Mode';
document.getElementById('dark_mode_button').style.backgroundColor = "#76db94";


workspace_is_in_dark_mode = true;
}

};

var init_online = function(){

if (!navigator.onLine){

setTimeout(function(){
notify('nuken is offline. Some external resources may not work without an internet connection.');
},550);

document.getElementById('share_page_container').innerHTML = offline_text;

document.getElementById('script_page_title').innerHTML = '<i class="ri-file-paper-2-fill"></i> <span>Script Management</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('style_page_title').innerHTML = '<i class="ri-attachment-fill"></i>  <span>Stylesheet Management</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('shop_page_title').innerHTML = '<i class="ri-shopping-bag-fill"></i> <span>nuken Shop</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('share_page_title').innerHTML = '<i class="ri-team-fill"></i> <span>Find nuken</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('template_page_title').innerHTML = '<i class="ri-file-search-fill"></i> <span>Pick a Template</span> <span class = "offline-ind" >OFFLINE</span>';

document.getElementById('shop_frame').src = "";
document.getElementById('shop_frame').outerHTML = offline_text;

document.getElementById('offline_mode_button').style.display = "none";

document.getElementById('offline_notif').style.opacity = "100%";

} else {

setTimeout(function(){
if (!picture_test){
UIkit.modal('#network_error_page').toggle();
}
},550);


}


};

var start_credits = function(){
UIkit.modal('#settings_page').toggle();
document.body.style.backgroundColor = "black";
document.documentElement.style.backgroundColor = "black";document.documentElement.style.transition = "all 0.5s, background-image 1.5s";
document.body.style.transition = "all 0.5s, background-image 1.5s";
document.getElementById('nuken').style.transition = "all 20s, transform-origin 0s, border-radius 2.5s";
document.getElementById('nuken').style.filter = "blur(100px)";
document.getElementById('nuken').style.pointerEvents = "none";
document.getElementById('nuken').style.borderRadius = "100%";
document.getElementById('nuken').style.transform = "scale(0.75)";
document.getElementById('nuken').style.transformOrigin = "center 30%";
document.getElementById('nuken').style.opacity = "0%";

setTimeout(function(){
credits_music.currentTime = 0;
credits_music.play();
credits_music.onended = function(){
end_nuken();
};
setTimeout(function(){
document.getElementById('credits').style.top = "-210%";
document.getElementById('credits').style.pointerEvents = "auto";
document.getElementById('credits').style.opacity = "100%";
document.getElementById('credits').style.filter = "blur(0px)";
},0);
setTimeout(function(){
document.body.style.backgroundImage = "url('icons/black.png')";
document.documentElement.style.backgroundImage = "url('icons/black.png')";
setTimeout(function(){
document.getElementById('credits').style.filter = "blur(100px)";

//credits are done
setTimeout(function(){
document.getElementById('credits_end').style.opacity = "100%";
document.getElementById('credits_end').style.pointerEvents = "auto";
document.getElementById('credits_end').style.filter = "blur(0px)";
document.body.style.backgroundImage = "url('icons/splash.png')";
document.documentElement.style.backgroundImage = "url('icons/splash.png')";
},5000);
},35000);
},17500);
},500);
};

var reload_page = function(){
document.body.style.backgroundColor = "black";
document.documentElement.style.backgroundColor = "black";
document.getElementById('nuken').style.transition = "all 1.5s, transform-origin 0s";
document.getElementById('nuken').style.transitionTimingFunction = "cubic-bezier(.8,0,0,1.1)";
document.getElementById('nuken').style.filter = "blur(100px)";
document.getElementById('nuken').style.pointerEvents = "none";
document.getElementById('nuken').style.borderRadius = "100%";
document.getElementById('nuken').style.transform = "scale(0.75)";
document.getElementById('nuken').style.transformOrigin = "center 30%";
document.getElementById('nuken').style.opacity = "0%";
setTimeout(function(){
window.location.reload(true);
},1000);
};

var end_nuken = function(){
enable_sound.currentTime = 0;
enable_sound.play();
setInterval(credits_fade,100);
document.getElementById('credits_end').style.filter = "blur(100px)";
document.getElementById('credits_end').style.opacity = "0%";
setTimeout(function(){
window.location.reload(true);
},2500);
};

var interval;
var timeout;

function credits_fade() {


      var sounds = credits_music;

        var newVolume = sounds.volume - 0.1;

        // Check if the newVolume is greater than zero
        if(newVolume >= 0){
            sounds.volume = newVolume;
        }
        else{
            // Stop fade
            clearInterval(interval);
            sounds.volume = 0;
            sounds.pause();
            sounds.currentTime = 0;
        }

}

  let needsFocusFix = false;
  let triggeringProgrammaticBlur = false;

  window.onblur = function(event){
  //console.log('blurred');
    if(!triggeringProgrammaticBlur) {
      needsFocusFix = true;
    }
  };

  window.onfocus = function(event){
  //console.log('focused');
    if(needsFocusFix) {
      needsFocusFix = false;
      triggeringProgrammaticBlur = true;
      setTimeout(function () {
        window.blur();
        window.focus();
        setTimeout(function () {
          triggeringProgrammaticBlur = false;
        }, 250);
      }, 250);
    }
  };

function onMessage(event) {
    // Check sender origin to be trusted
    if (event.origin !== "https://nuken.xyz") return;

    var data = event.data;      
    if (typeof(window[data.func]) == "function") {
        window[data.func].call(null, data.files);
    }
}

var filename_mem = "";
var downloadable = "";

// Function to be called from iframe
function download_shop_files(files) {
help_sound.currentTime=0;
help_sound.play();
UIkit.modal('#shop_confirm_page').show();
downloadable = "https://nuken.xyz/shop/"+files;

document.getElementById('shop_download_location').innerHTML = downloadable;

};

var init_shop_download = function(files){
 
notify('<span>Downloading</span> <a onclick = "alert(`Downloading content from:\n'+downloadable+'`)"><i class="ri-shopping-bag-fill"></i> <span>nuken Shop content</span>...</a>');
console.log(downloadable);
var filenamey = downloadable.replace(/^.*[\\\/]/, '');
filename_mem = filenamey;

fetch(downloadable).then(function(t) {
    return t.blob().then((b)=>{
        var a = document.createElement("a");
        a.href = URL.createObjectURL(b);
        a.setAttribute("download", filenamey);
        a.click();
    }
    );
});

};

var show_folder = function(locat){
	window.api.show_folder(locat)
};

var delete_file = function(file){
window.api.delete_file(file);
};

var delete_folder = function(directory){
window.api.delete_folder(directory);
};

var extract_function = function(file, destination){
var stupid_extract_object = [file, destination];
window.api.extract_file(stupid_extract_object);
//this is stupid, apparently ipc renderer doesn't like more than one parameter passed at a time?! like, wtf not cool man.
};

var init_extract_process = function(){
var name = filename_mem;
var content_directory = "";

 console.log(name);

if (name.includes('addon')){
content_directory = addon_direc;	
name = content_directory+name;  

  } else if (name.includes('theme')){
content_directory = theme_direc;	
name = content_directory+name;

  } else if (name.includes('template') || name.includes('_pack')){
content_directory = template_direc;	
name = content_directory+name;

  } else {

console.log('Error');	  
 }	  
 

extract_function(name,content_directory);
};

var reload_nuken = function(){
window.api.reload_nuken();
};


var set_network_status = function(state){

if (state === 'offline'){

offline_mode_activated = true;

notify('Offline Mode activated.');

document.getElementById('share_page_container').innerHTML = offline_text;

document.getElementById('script_page_title').innerHTML = '<i class="ri-file-paper-2-fill"></i> <span>Script Management</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('style_page_title').innerHTML = '<i class="ri-attachment-fill"></i>  <span>Stylesheet Management</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('shop_page_title').innerHTML = '<i class="ri-shopping-bag-fill"></i> <span>nuken Shop</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('share_page_title').innerHTML = '<i class="ri-team-fill"></i> <span>Find nuken</span> <span class = "offline-ind" >OFFLINE</span>';
document.getElementById('template_page_title').innerHTML = '<i class="ri-file-search-fill"></i> <span>Pick a Template</span> <span class = "offline-ind" >OFFLINE</span>';

document.getElementById('shop_frame').src = "";
document.getElementById('shop_frame').outerHTML = offline_text;

document.getElementById('share_page_container').innerHTML = offline_text;

document.getElementById('offline_mode_button').style.backgroundColor = "darkred";
document.getElementById('offline_mode_button').style.animation = "3s darkred-pulse infinite ";
document.getElementById('offline_mode_button').innerHTML = '<i class="ri-wifi-off-line"></i><span> Exit Offline Mode</span>';

document.getElementById('offline_notif').style.opacity = "100%";


init_addons_online('offline');

document.getElementById('script_selection').innerHTML = "";
document.getElementById('style_selection').innerHTML = "";

push_resource(javascript_lang, 'script');
push_resource(css3_sheet, 'style');

select_script(javascript_lang);
select_style(css3_sheet);




} else {

offline_mode_activated = false;


notify('Welcome back!');

document.getElementById('share_page_container').innerHTML = share_page_innerhtml;

document.getElementById('script_page_title').innerHTML = '<i class="ri-file-paper-2-fill"></i> <span>Script Management</span>';
document.getElementById('style_page_title').innerHTML = '<i class="ri-attachment-fill"></i>  <span>Stylesheet Management</span>';
document.getElementById('shop_page_title').innerHTML = '<i class="ri-shopping-bag-fill"></i> <span>nuken Shop</span>';
document.getElementById('share_page_title').innerHTML = '<i class="ri-team-fill"></i> <span>Find nuken</span>';
document.getElementById('template_page_title').innerHTML = '<i class="ri-file-search-fill"></i> <span>Pick a Template</span>';

document.getElementById('shop_page').innerHTML = shop_page_innerhtml;
document.getElementById('shop_frame').src = "https://nuken.xyz/shop/shop.html";

document.getElementById('offline_mode_button').style.backgroundColor = "black";
document.getElementById('offline_mode_button').style.animation = "none";
document.getElementById('offline_mode_button').innerHTML = '<i class="ri-wifi-off-line"></i><span> Enter Offline Mode</span>';

document.getElementById('offline_notif').style.opacity = "0%";

init_addons_online('online');

document.getElementById('script_selection').innerHTML = "";
document.getElementById('style_selection').innerHTML = "";

push_resource(javascript_lang, 'script');
push_resource(css3_sheet, 'style');

select_script(javascript_lang);
select_style(css3_sheet);

$.getScript('https://nuken.xyz/resources/scripts/resource_index.js', function(){
    //script loaded and parsed	
	
}).fail(function(){
    if(arguments[0].readyState==0){
        //script failed to load
		notify('External resources failed to load.');

    }else{
    }
});

}

};

var toggle_network_status = function(){
if (offline_mode_activated){
set_network_status('online');
offline_mode_activated = false;
} else {
set_network_status('offline');
UIkit.modal('#offline_mode_page').toggle();
offline_mode_activated = true;
}
};

</script>


</html>